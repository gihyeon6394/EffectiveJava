# item 20. 추상 클래스보다는 인터페이스를 우선하라

>

## 인터페이스 다중 구현의 장점

- 단일 상속의 한계
- 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해 넣을 수 있다
- 믹스인 정의에 안성맞춤

### 자바 단일 상속의 한계

자바가 제공하는 다중 구현 메커니즘은 인터페이스와 **추상클래스**이다.  
둘의 큰 차이는 **추상클래스가 정의한 타입을 구현한 클래스는 반드시 추상 클래스의 하위클래스라는 것이다.**   
반면, 인터페이스틑 구현한 채로 다른 어떤 클래스 / 인터페이스를 상속할 수 있다.

## 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해 넣을 수 있다

1. 인터페이스가 요구하는 메서드 추가
2. implements 추가하면 끝

Java platform의 Comparable, Iterable, AutoCloseable 인터페이스가 추가될 당시에도 그랬다.

### 기존 클래스에 새로운 추상 클래스를 끼워넣기는 어렵다

- 새로운 추상클래스를 추가하면 기존 클래스의 모든 자손은 추상클래스의 자손이 됨
- 적절치 않은 상황에도 강제로

## 인터페이스는 믹스인 <sup>mixin</sup> 정의에 안성맞춤이다

- 믹스인 : 클래스의 주된 기능에 선택적 기능을 혼합 하는 것
- 믹스인 이점 : '주된 타입' 외에도 특정 선택적 행위를 제공한다고 선언
- ex. Comparable을 구현한 클래스는 인스턴스의 순서를 정할 수 있다고 선언하는 것

## 인터페이스로는 계층구조가 없는 타입 프레임워크를 만들 수 있다

- 현실세계에서 계층 구조를 엄격하게 구분하기 어려운 경우 적합
- 추상클래스로 구조를 표현하려면 combinatorial explosion <sup>조합 폭발</sup> 발생
    - sing() 클래스, act() 클래스, singAndAct() 클래스

```java

public interface Idol {
    void sing();
}

public interface Actor {
    void act();
}

public interface IdolActor extends Idol, Actor {
    void sing();

    void act();
}
```

## 래퍼클래스 관용구 <sup>item 18</sup>와 사용하면 인터페이스는 기능 향상의 안전하고 강력한 수단이 된다

타입을 추상클래스로 정의하면 타입에 기능 추가를 위해선 상속해야한다.  
상속해서 만든 클래스는 인터페이스보다 활용도가 떨어지고 깨지기 쉽다.  

## 인터페이스 작성 Tips

### 인터페이스 메서드 중 구현방법이 명확하다면 디폴트메서드로 제공하자

- 구현클래스를 작성할 프로그래머의 일감이 덜어진다
- 디폴트 메서드를 제공할 떄는 @implSpec 자바독 태그를 사용해 문서화하자
- 